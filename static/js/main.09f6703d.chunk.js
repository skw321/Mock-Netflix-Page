(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(60)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(25),r=n.n(i),c=n(3),s=(n(38),n(9)),l=n(10),m=n(12),u=n(11),d=n(13),p=(n(39),n(40),n(8)),h=n(5),f=n(27),E=n.n(f),b=n(7),O=n(28),g={mylist:[],recommendations:[],isLoading:!1,hasError:!1},v={type:"REMOVE",id:""},y={type:"ADD",id:""};var j=Object(b.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action: "+t.type),console.log(t),t.type){case"LOAD_PAGE":return Object(h.a)({},e,{isLoading:!0});case"ERROR_PAGE":return Object(h.a)({},e,{isLoading:!1,hasError:!0});case"SAVE_MOVIES":var n=t.data.movies.mylist;console.log(n);var o=t.data.movies.recommendations;return console.log(o),Object(h.a)({},e,{isLoading:!1,errorPage:!1,mylist:n,recommendations:o});case"REMOVE":var a=e.mylist.filter(function(e){return e.id!==t.id}),i=e.mylist.filter(function(e){return e.id===t.id}),r=[].concat(Object(p.a)(e.recommendations),Object(p.a)(i));return console.log(a),Object(h.a)({},e,{mylist:a,recommendations:r});case"ADD":var c=e.recommendations.filter(function(e){return e.id===t.id}),s=[].concat(Object(p.a)(e.mylist),Object(p.a)(c)),l=e.recommendations.filter(function(e){return e.id!==t.id});return Object(h.a)({},e,{recommendations:l,mylist:s});default:return e}},g,Object(b.a)(O.a)),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleRemove=function(e){console.log(e.target.id),n.props.removeMyList(parseInt(e.target.id))},n.handleAdd=function(e){n.props.addMyList(parseInt(e.target.id)),console.log("add")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={mylist:this.handleRemove,recommendations:this.handleAdd};return console.log(this.props.list),console.log(this.props.title),a.a.createElement("div",{className:"inner"},a.a.createElement("h2",{className:"title"},this.props.title),a.a.createElement("ul",{className:"container"},this.props.list.map(function(n){return a.a.createElement("li",{className:"list"},a.a.createElement("span",{className:"overlay"}),a.a.createElement("img",{src:n.img,className:"image"}),a.a.createElement("span",null,n.title),a.a.createElement("button",{className:"button",id:n.id,onClick:t[e.props.title]}," ",e.props.button," "))})))}}]),t}(o.Component),A=Object(c.b)(function(e){return{}},function(e){return{removeMyList:function(t){v.id=t,e(v)},addMyList:function(t){y.id=t,e(y)}}})(w),L=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.props.fetchMovies("http://localhost:8888/movies")}},{key:"render",value:function(){if(!0===this.props.isLoading)return a.a.createElement("h2",null,"The page is loading...");if(!0===this.props.hasError)return a.a.createElement("h2",null,"Sorry. Unable to reach server...");var e=[{mylist:this.props.mylist},{recommendations:this.props.recommendations}];console.log(e);var t={mylist:"REMOVE",recommendations:"ADD"};return a.a.createElement("div",null,a.a.createElement("ul",{className:"outtercontainer"},e.map(function(e){return a.a.createElement("li",{className:"outterlist"},a.a.createElement(A,{list:Object.values(e)[0],title:Object.keys(e)[0],button:t[Object.keys(e)[0]]}))})))}}]),t}(o.Component),M=Object(c.b)(function(e){return{mylist:e.mylist,recommendations:e.recommendations,isLoading:e.isLoading,hasError:e.hasError}},function(e){return{fetchMovies:function(t){e(function(e,t){return function(n){n({type:"LOAD_PAGE"}),E.a.get(e,t).then(function(e){n({type:"SAVE_MOVIES",data:e.data})}).catch(function(e){n({type:"ERROR_PAGE"})})}}(t))}}})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(c.a,{store:j},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.09f6703d.chunk.js.map